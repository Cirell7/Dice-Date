{% extends 'base/base1.html' %}
{% load static %}

{% block extra_style %}
  <link rel="stylesheet" href="{% static 'css/dice_date/profile.css' %}" />
  <link rel="stylesheet" href="{% static 'css/dice_date/profile_avatar.css' %}" />
  <style>
    .profile-view-container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .profile-header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .profile-info-view {
      margin-top: 30px;
    }
    
    .info-field {
      padding: 15px 0;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }
    
    .info-field:last-child {
      border-bottom: none;
    }
    
    .field-label {
      font-weight: bold;
      color: #333;
      min-width: 150px;
    }
    
    .field-value {
      color: #666;
      text-align: right;
      flex: 1;
      margin-left: 20px;
    }
    
    .empty-field {
      color: #999;
      font-style: italic;
    }
    
    .profile-photo-view {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #007bff;
      margin: 0 auto 20px;
      display: block;
    }
    
    .default-photo {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      background: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      border: 3px solid #ddd;
      font-size: 48px;
      color: #999;
    }
    
    .action-buttons {
      margin-top: 30px;
      text-align: center;
    }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      margin: 0 10px;
      text-decoration: none;
      display: inline-block;
    }
    
    .btn-primary {
      background: #007bff;
      color: white;
    }
    
    .btn-secondary {
      background: #6c757d;
      color: white;
    }
  </style>
{% endblock %}

{% block main %}
<div class="profile-view-container">
    <div class="profile-header">
        <h1>–ü—Ä–æ—Ñ–∏–ª—å {{ profile_user.username }}</h1>
        
        <!-- –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è -->
        <div class="photo-section">
            {% if profile.photo %}
                <img src="{{ profile.photo.url }}" class="profile-photo-view">
            {% else %}
                <div class="default-photo">
                    üë§
                </div>
            {% endif %}
        </div>
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞) -->
    <div class="profile-info-view">
        <!-- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="info-field">
            <span class="field-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span>
            <span class="field-value {% if not profile_user.username %}empty-field{% endif %}">
                {{ profile_user.username|default:"–ù–µ —É–∫–∞–∑–∞–Ω–æ" }}
            </span>
        </div>

        <!-- –ü–æ–ª -->
        <div class="info-field">
            <span class="field-label">–ü–æ–ª:</span>
            <span class="field-value {% if not profile.gender %}empty-field{% endif %}">
                {{ profile.get_gender_display|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}
            </span>
        </div>

        <!-- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è -->
        <div class="info-field">
            <span class="field-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</span>
            <span class="field-value {% if not profile.birth_date %}empty-field{% endif %}">
                {{ profile.birth_date|default:"–ù–µ —É–∫–∞–∑–∞–Ω–∞" }}
            </span>
        </div>

        <!-- –í–æ–∑—Ä–∞—Å—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è) -->
        {% if profile.birth_date %}
        <div class="info-field">
            <span class="field-label">–í–æ–∑—Ä–∞—Å—Ç:</span>
            <span class="field-value">
                {{ profile.age }} –ª–µ—Ç
            </span>
        </div>
        {% endif %}

        <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
        <div class="info-field">
            <span class="field-label">–û–ø–∏—Å–∞–Ω–∏–µ:</span>
            <span class="field-value {% if not profile.description %}empty-field{% endif %}">
                {{ profile.description|default:"–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è" }}
            </span>
        </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
    <div class="action-buttons">
        <a href="{% url 'message_thread' profile_user.id %}" class="btn btn-primary">
            üí¨ –ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        </a>
        <a href="javascript:history.back()" class="btn btn-secondary">
            ‚Üê –ù–∞–∑–∞–¥
        </a>
    </div>
</div>
{% endblock %}